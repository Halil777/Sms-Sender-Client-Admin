import{H as e,r as x}from"./index-CGy4FUhz.js";import{P as j,U as m,C as S,u as f,a as k,b as p,r as b,c as D,S as P,h as A,d as E,e as H,f as v,F,A as T,g as w,i as z,j as B}from"./container-B1_O1sqP.js";import"./iconBase-B_F_-XKo.js";const R=()=>e.jsx("div",{children:e.jsx(j,{leftContent:e.jsx(m,{placeholder:"Search phone..."}),rightContent:e.jsx(S,{children:"Create new phone"})})}),g=x.createContext({active:-1,over:-1}),I=(n,a)=>{const{active:o,over:i,direction:d}=n;let r={};return o&&o===a?r={backgroundColor:"gray",opacity:.5}:i&&a===i&&o!==i&&(r=d==="right"?{borderRight:"1px dashed gray"}:{borderLeft:"1px dashed gray"}),r},$=n=>{const a=x.useContext(g);return e.jsx("td",{...n,style:{...n.style,...I(a,n.id)}})},G=n=>{const a=x.useContext(g),{attributes:o,listeners:i,setNodeRef:d,isDragging:r}=v({id:n.id}),h={...n.style,cursor:"move",...r?{position:"relative",zIndex:9999,userSelect:"none"}:{},...I(a,n.id)};return e.jsx("th",{...n,ref:d,style:h,...o,...i})},L=[{key:"1",phoneIndex:1,name:"iPhone 13",status:"Active",action:""},{key:"2",phoneIndex:2,name:"Samsung Galaxy S21",status:"Inactive",action:""},{key:"3",phoneIndex:3,name:"Google Pixel 6",status:"Active",action:""}],N=[{title:"Phone-index",dataIndex:"phoneIndex",width:"230px"},{title:"Name",dataIndex:"name"},{title:"Status",dataIndex:"status"},{title:"Action",dataIndex:"action",width:"70px",align:"center",render:(n,a)=>e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx(F,{style:{color:"#1A54EB",cursor:"pointer"},onClick:()=>console.log("Edit",a.key)}),e.jsx(T,{style:{color:"#FF3521",cursor:"pointer"},onClick:()=>console.log("Delete",a.key)})]})}],O=()=>{var C;const[n,a]=x.useState({active:-1,over:-1}),[o,i]=x.useState(()=>N.map((s,t)=>({...s,key:`${t}`,onHeaderCell:()=>({id:`${t}`}),onCell:()=>({id:`${t}`})}))),d=f(k(w,{activationConstraint:{distance:1}})),r=({active:s,over:t})=>{s.id!==(t==null?void 0:t.id)&&i(l=>{const y=l.findIndex(u=>u.key===(s==null?void 0:s.id)),c=l.findIndex(u=>u.key===(t==null?void 0:t.id));return z(l,y,c)}),a({active:-1,over:-1})},h=({active:s,over:t})=>{const l=o.findIndex(c=>c.key===s.id),y=o.findIndex(c=>c.key===(t==null?void 0:t.id));a({active:s.id,over:t==null?void 0:t.id,direction:y>l?"right":"left"})};return e.jsxs(p,{sensors:d,modifiers:[b],onDragEnd:r,onDragOver:h,collisionDetection:D,children:[e.jsx(P,{items:o.map(s=>s.key),strategy:A,children:e.jsx(g.Provider,{value:n,children:e.jsx(E,{rowKey:"key",columns:o,dataSource:L,components:{header:{cell:G},body:{cell:$}}})})}),e.jsx(H,{children:e.jsx("th",{style:{backgroundColor:"gray",padding:16},children:(C=o[o.findIndex(s=>s.key===n.active)])==null?void 0:C.title})})]})},_=()=>e.jsx("div",{children:e.jsxs(B,{children:[e.jsx(R,{}),e.jsx(O,{})]})});export{_ as default};
